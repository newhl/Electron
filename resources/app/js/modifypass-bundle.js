!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=469)}({18:function(e,t){e.exports=require("path")},20:function(e,t){e.exports=require("fs")},31:function(e,t){e.exports=require("events")},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=void 0;var r,o,i=d(n(36)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=t.remove=(r=i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!=(n=h.indexOf(t))){e.next=3;break}return e.abrupt("return",console.warn("pages.remove() called for missing page",t));case 3:for(r in t.isActive&&(g=null,h.length>1&&w(h[n+1]||h[n-1])),h.splice(n,1),m.removeChild(t.webviewEl),p.emit("remove",t),p.emit("update"),t)t[r]=null;case 9:case"end":return e.stop()}},e,this)}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,i){try{var a=e[o](i),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})},function(e){return o.apply(this,arguments)});t.on=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];p.on.apply(p,t)},t.getAll=function(){return h},t.get=function(e){return h[e]},t.create=v,t.setActive=w,t.reorderTab=function(e,t){if(t>1||t<-1)return console.warn("reorderTabBy isnt allowed to offset more than -1 or 1; this is a coding error");var n=h.indexOf(e),r=n+t,o=h[r];if(!o)return!1;return h[n]=o,h[r]=e,p.emit("update"),!0},t.changeActiveBy=function(e){if(h.length>1){var t=h.indexOf(g);if(-1===t)return console.warn("Active page is not in the pages list! THIS SHOULD NOT HAPPEN!");(t+=e)<0&&(t=h.length-1),t>=h.length&&(t=0),w(h[t])}},t.changeActiveTo=function(e){e>=0&&e<h.length&&w(h[e])},t.changeActiveToLast=function(){w(h[h.length-1])},t.getActive=function(){return g},t.getAdjacentPage=function(e,t){if(h.length>1){var n=h.indexOf(e);return-1===n?null:h[n+t]}},t.getByWebview=b,t.getByWebContentsID=function(e){for(var t=0;t<h.length;t++)if(h[t].wcID===e)return h[t];return null},t.getById=x,t.openNewPage=function(e,t){for(var n=0;n<h.length;n++)if(h[n].url==e)return void w(h[n]);var r={};r.url=e,r.title=t,w(v(r))},t.executeFun=function(e,t,n){var r=x(e);r&&r.webviewEl.executeJavaScript(t+"('"+n+"')")},t.refreshPage=function(e){var t=x(e);t&&t.webviewEl.reload()},t.createWebviewEl=I;var c=n(4),l=d(n(31)),s=d(n(18));function d(e){return e&&e.__esModule?e:{default:e}}var f=c.remote.getGlobal("backgroundparam").rootpath,h=[],g=null,p=new l.default,m=document.getElementById("webviews");function v(e){var t="",n="";e&&"object"===(void 0===e?"undefined":a(e))?(t=e.url,n=e.title):"string"==typeof e?(t=e,e={}):e={};var r=(1e3*Math.random()|0)+Date.now(),o={id:r,wcID:null,webviewEl:I(r,t),_url:t,get url(){return this._url},set url(e){this._url=e},loadingURL:t,title:n,manuallyTrackedIsLoading:!0,isWebviewReady:!1,isActive:!1,isTabDragging:!1,tabDragOffset:0,getURL:function(){return this.url},getTitle:function(){return this.title},isLoading:function(){return o.manuallyTrackedIsLoading}};return h.push(o),O(o),m.appendChild(o.webviewEl),p.emit("add",o),o.webviewEl.addEventListener("dom-ready",L),o.webviewEl.addEventListener("crashed",E),o.webviewEl.addEventListener("new-window",y),o.webviewEl.addEventListener("did-start-loading",P),o.webviewEl.addEventListener("did-stop-loading",_),o.webviewEl.addEventListener("close",R),o.webviewEl.addEventListener("did-start-loading",j),o.webviewEl.addEventListener("did-stop-loading",j),g||w(o),o}function y(e){var t=b(e.target);if(t&&t.isActive){var n=v(e.url);"foreground-tab"!==e.disposition&&"new-window"!==e.disposition||w(n)}}function w(e){g&&(O(g),g.isActive=!1),g=e,function(e){console.log(e),e.webviewEl.classList.remove("hidden"),c.ipcRenderer.send("mainpage:command","show-modal-page",e.id)}(e),e.isActive=1,e.webviewEl.focus(),p.emit("set-active",e)}function b(e){return x(e.dataset.id)}function x(e){for(var t=0;t<h.length;t++)if(h[t].id==e)return h[t];return null}function E(e){var t=b(e.target),r=n(20),o=new Date,i=(o.toLocaleDateString(),o.toLocaleDateString()+" "+o.toLocaleTimeString()+":"+t.loadingURL+"\r\n");r.appendFile(c.remote.getGlobal("backgroundparam").rootpath+"\\log\\log.txt",i,function(e){})}function L(e){var t=b(e.target);t&&(t.isWebviewReady=!0,t.wcID||(t.wcID=e.target.getWebContents().id)),t.webviewEl.executeJavaScript('let tabpageid="'+t.id+'"')}function P(e){var t=b(e.target);t&&(t.manuallyTrackedIsLoading=!0)}function _(e){var t=b(e.target);t&&(t.loadingURL&&(t.url=t.loadingURL),t.loadingURL=!1,t.manuallyTrackedIsLoading=!1)}function R(e){var t=b(e.target);t&&u(t)}function O(e){e.webviewEl.classList.add("hidden"),c.ipcRenderer.send("mainpage:command","hide-modal-page",e.id)}function I(e,t){var n=document.createElement("webview");return n.dataset.id=e,n.setAttribute("preload","file://"+s.default.join(f,"/js/common-bundle.js")),n.setAttribute("webpreferences","allowDisplayingInsecureContent,contentIsolation,defaultEncoding=utf-8"),n.setAttribute("src",t),n}function j(e){p.emit(e.type,b(e.target),e)}},36:function(e,t,n){e.exports=n(37)},37:function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(38),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},38:function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",l="object"==typeof e,s=t.regeneratorRuntime;if(s)l&&(e.exports=s);else{(s=t.regeneratorRuntime=l?e.exports:{}).wrap=b;var d="suspendedStart",f="suspendedYield",h="executing",g="completed",p={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==r&&o.call(y,a)&&(m=y);var w=P.prototype=E.prototype=Object.create(m);L.prototype=w.constructor=P,P.constructor=L,P[c]=L.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===L||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},s.awrap=function(e){return{__await:e}},_(R.prototype),R.prototype[u]=function(){return this},s.AsyncIterator=R,s.async=function(e,t,n,r){var o=new R(b(e,t,n,r));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},_(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},s.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},s.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return u.type="throw",u.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function b(e,t,n,r){var o=t&&t.prototype instanceof E?t:E,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=x(e,t,n);if("normal"===c.type){if(r=n.done?g:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=g,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function x(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function L(){}function P(){}function _(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function R(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,a){var u=x(e[n],e,r);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(l).then(function(e){c.value=e,i(c)},a)}a(u.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=x(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},4:function(e,t){e.exports=require("electron")},46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="123.123.123";null!==document.getElementById(n)&&document.body.removeChild(document.getElementById(n));var r=document.createElement("canvas");r.width=t.w||420,r.height=t.h||230;var o=r.getContext("2d");o.rotate(-20*Math.PI/180),o.font="20px Vedana",o.fillStyle="rgba(200, 200, 200, 0.40)",o.textAlign="left",o.textBaseline="Middle",o.fillText(e,r.width/8,r.height/10*9);var i=document.createElement("div");return i.id=n,i.style.pointerEvents="none",i.style.top=t.top||"1px",i.style.left=t.left||"80px",i.style.position="fixed",i.style.zIndex="100000",i.style.width=t.width||document.documentElement.clientWidth+"px",i.style.height=t.height||document.documentElement.clientHeight+"px",i.style.background="url("+r.toDataURL("image/png")+") left top repeat",document.body.appendChild(i),n};r.set=function(e){var t=o(e);setInterval(function(){null===document.getElementById(t)&&(t=o(e))},500),window.onresize=function(){o(e)}},t.default=r},469:function(e,t,n){"use strict";var r=n(4),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(59));var i=n(4).remote.dialog;window.onload=function(){document.getElementById("titlebar").addEventListener("click",function(){o.openPage("loginpage"),o.closePageBySelf()}),document.getElementById("bnt_modify").addEventListener("click",function(){var e=document.getElementById("txt_newpassword").value;if(""!=e){var t,n,a=r.remote.getGlobal("backgroundparam").serverurl,u=r.remote.getGlobal("backgroundparam").serialnumber,c=(t=new RegExp("(^|&)"+"userId"+"=([^&]*)(&|$)"),null!=(n=window.location.search.substr(1).match(t))?unescape(n[2]):null);fetch(a+"/api-user/safeVerify/modifyPassWord?companyId="+u+"&userId="+c+"&newPassWord="+e,{method:"get"}).then(function(e){e.json().then(function(e){1==e.success?0==e.data?i.showMessageBox({type:"question",buttons:["确定"],title:"提示",message:"密码修改成功,请登录!"},function(e){o.openPage("loginpage"),o.closePageBySelf()}):1==e.data?i.showMessageBox(r.remote.getCurrentWindow(),{type:"error",buttons:["确定"],title:"修改提示",message:"新密码和原密码一样,请重新输入"},function(e){document.getElementById("txt_newpassword").value=""}):2==e.data?i.showMessageBox(r.remote.getCurrentWindow(),{type:"error",buttons:["确定"],title:"修改提示",message:"该公司不存在，请联系管理员"}):3==e.data&&i.showMessageBox(r.remote.getCurrentWindow(),{type:"error",buttons:["确定"],title:"修改提示",message:"密码不能为空"}):i.showMessageBox(r.remote.getCurrentWindow(),{type:"error",buttons:["确定"],title:"修改提示",message:"密码修改异常，请联系管理员"})})})}else i.showMessageBox(r.remote.getCurrentWindow(),{type:"error",buttons:["确定"],title:"修改提示",message:"请输入新密码"})})}},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=void 0;switch(e){case"mainpage":i=n(4).remote.screen,a=i?i.getPrimaryDisplay().bounds:{width:800,height:600},u=Math.max(800,Math.min(1800,a.width-50)),c=Math.max(600,Math.min(1200,a.height-50)),r={x:(a.width-u)/2,y:(a.height-c)/2,width:u,height:c,name:"mainpage",path:"shell-window.html"};break;case"registerpage":r=function(){var e=n(4).remote.screen,t=e?e.getPrimaryDisplay().bounds:{width:800,height:600};return{x:(t.width-500)/2,y:(t.height-390)/2,width:500,height:390,resizable:!1,name:"registerpage",path:"register.html"}}();break;case"loginpage":r=function(){var e=n(4).remote.screen,t=e?e.getPrimaryDisplay().bounds:{width:800,height:600};return{x:(t.width-880)/2,y:(t.height-500)/2,width:880,height:500,resizable:!1,name:"loginpage",path:"login.html"}}();break;case"modifypassword":r=function(e){var t=n(4).remote.screen,r=t?t.getPrimaryDisplay().bounds:{width:800,height:600};return{x:(r.width-400)/2,y:(r.height-200)/2,width:400,height:200,resizable:!1,name:"modifypassword",path:"modifypass.html?userId="+e}}(t)}var i,a,u,c;o.ipcRenderer.send("openpage",r)},t.openModalPage=function(e,t,r,i,a){var u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",l=function(e,t,r,o,i,a,u){var c=n(4).remote.screen,l=c?c.getPrimaryDisplay().bounds:{width:800,height:600};return{x:(l.width-r)/2,y:(l.height-o)/2,width:r,height:o,name:"modalpage",path:"modalpage.html",weburl:e,title:t,tabpageid:i,closeFlag:a,closeTip:u}}(e,t,r,i,a,u,c);o.ipcRenderer.send("mainpage:command","open-modal-page",l)},t.openModalPage2=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=u(e,t,n,r,i,a);o.ipcRenderer.send("mainpage:command","open-modal-page2",c)},t.openModalPage3=function(e,t,n,r){var i=u(e,t,n,r,!1,"");o.ipcRenderer.send("mainpage:command","open-modal-page3",i)},t.refreshModalPage=function(e,t,n,r){var i=u(e,t,n,r);o.ipcRenderer.send("mainpage:command","refresh-modal-page",i)},t.executeParentPageFun=function(e,t,n){var r={funName:e,funParam:t};o.ipcRenderer.send("mainpage:command","execute-parentpageFun",r)},t.executeTabPageFun=function(e,t,n){var r={funName:e,funParam:t};o.ipcRenderer.send("mainpage:command","execute-tabpageFun",r)},t.refreshTabPage=function(){o.ipcRenderer.send("mainpage:command","refresh-tab-page")},t.setCloseValid=function(){o.ipcRenderer.send("mainpage:command","setCloseValid")},t.CloseDialogAndRefresh=function(){o.ipcRenderer.send("mainpage:command","CloseDialogAndRefresh")},t.changeTitle=function(e){o.ipcRenderer.send("mainpage:command","changeTitle",e)},t.openImageUploadPage=function(){var e=(t=n(4).remote.screen,r=t?t.getPrimaryDisplay().bounds:{width:800,height:600},{x:(r.width-800)/2,y:(r.height-600)/2,width:800,height:600,name:"imageuploadpage",path:"imageupload.html"});var t,r;o.ipcRenderer.send("open-imageupload-page",e)},t.closePageBySelf=function(){o.ipcRenderer.send("closepagebyself",a)};var r,o=n(4),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(34)),n(46));(r=i)&&r.__esModule;var a="";function u(e,t,r,o,i,a){var u=n(4).remote.screen,c=u?u.getPrimaryDisplay().bounds:{width:800,height:600};return{x:(c.width-r)/2,y:(c.height-o)/2,width:r,height:o,name:"modalpage",path:"modalpage.html",weburl:e,title:t,closeFlag:i,closeTip:a}}o.ipcRenderer.on("receivepageID",function(e,t){a=t})}});